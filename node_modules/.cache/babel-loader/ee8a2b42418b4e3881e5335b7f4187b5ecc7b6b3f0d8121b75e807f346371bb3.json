{"ast":null,"code":"var _jsxFileName = \"/Users/krkessedi/Documents/IT/jti-project/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { ref as dbRef, push, onValue, update, remove } from 'firebase/database';\nimport { ref as storageRef, uploadBytes, getDownloadURL, deleteObject } from 'firebase/storage';\nimport { db, storage } from './firebaseConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [imageFile, setImageFile] = useState(null);\n  const [bought, setBought] = useState('');\n  const [given, setGiven] = useState('');\n  const [date, setDate] = useState('');\n  const [profiles, setProfiles] = useState([]);\n  const cigarettes = ['Winston Blue', 'LD Compact', 'Kent', 'Parliament'];\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!imageFile || !bought || !given || !date) return alert('Заполните все поля');\n    const imgRef = storageRef(storage, `profiles/${Date.now()}_${imageFile.name}`);\n    await uploadBytes(imgRef, imageFile);\n    const photoUrl = await getDownloadURL(imgRef);\n    const profileData = {\n      photoUrl,\n      bought,\n      given,\n      createdAt: date,\n      usageCount: 1,\n      lastUsedAt: null,\n      imagePath: imgRef.fullPath\n    };\n    await push(dbRef(db, 'profiles'), profileData);\n    setImageFile(null);\n    setBought('');\n    setGiven('');\n    setDate('');\n    fetchProfiles();\n  };\n  const fetchProfiles = () => {\n    const now = new Date();\n    const profilesRef = dbRef(db, 'profiles');\n    onValue(profilesRef, snapshot => {\n      const data = snapshot.val();\n      if (!data) return setProfiles([]);\n      const result = Object.entries(data).map(([id, p]) => {\n        const lastUsed = p.lastUsedAt ? new Date(p.lastUsedAt) : null;\n        const daysSinceLastUse = lastUsed ? (now - lastUsed) / (1000 * 60 * 60 * 24) : null;\n        return {\n          id,\n          ...p,\n          show: p.usageCount < 4 && (!lastUsed || daysSinceLastUse >= 30)\n        };\n      });\n      setProfiles(result.filter(p => p.show));\n    });\n  };\n  const handleUse = async profile => {\n    const newCount = (profile.usageCount || 1) + 1;\n    if (newCount >= 4) {\n      await remove(dbRef(db, `profiles/${profile.id}`));\n      if (profile.imagePath) {\n        await deleteObject(storageRef(storage, profile.imagePath));\n      }\n    } else {\n      await update(dbRef(db, `profiles/${profile.id}`), {\n        usageCount: newCount,\n        lastUsedAt: new Date().toISOString()\n      });\n    }\n    fetchProfiles();\n  };\n  useEffect(() => {\n    fetchProfiles();\n  }, []);\n  const handleBoughtChange = e => {\n    const value = e.target.value;\n    setBought(value);\n    setGiven(value);\n  };\n  const handleGivenChange = e => {\n    setGiven(e.target.value);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      maxWidth: '600px',\n      margin: 'auto'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0430\\u043D\\u043A\\u0435\\u0442\\u0443\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        onChange: e => setImageFile(e.target.files[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0427\\u0442\\u043E \\u043A\\u0443\\u043F\\u0438\\u043B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: bought,\n          onChange: handleBoughtChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 7\n          }, this), cigarettes.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c,\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 8\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0427\\u0442\\u043E \\u0432\\u044B\\u0434\\u0430\\u043B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 125,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: given,\n          onChange: handleGivenChange,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 7\n          }, this), cigarettes.map(c => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: c,\n            children: c\n          }, c, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 8\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 124,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u043E\\u0432\\u0435\\u0434\\u0435\\u043D\\u0438\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: date,\n          onChange: e => setDate(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 5\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 5\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 4\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0414\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0435 \\u0430\\u043D\\u043A\\u0435\\u0442\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 4\n    }, this), profiles.length > 0 ? profiles.map(p => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        margin: '10px 0',\n        padding: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: p.photoUrl,\n        alt: \"\\u0410\\u043D\\u043A\\u0435\\u0442\\u0430\",\n        style: {\n          width: '100%',\n          maxHeight: '300px',\n          objectFit: 'contain'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u041A\\u0443\\u043F\\u0438\\u043B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 8\n        }, this), \" \", p.bought]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0412\\u044B\\u0434\\u0430\\u043B:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 8\n        }, this), \" \", p.given]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0414\\u0430\\u0442\\u0430:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 8\n        }, this), ' ', new Date(p.createdAt).toLocaleDateString()]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"\\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u043D\\u043E:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 8\n        }, this), \" \", p.usageCount]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleUse(p),\n        children: \"\\u0418\\u0441\\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u044C\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 7\n      }, this)]\n    }, p.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 6\n    }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"\\u041D\\u0435\\u0442 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u044B\\u0445 \\u0430\\u043D\\u043A\\u0435\\u0442\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 5\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 109,\n    columnNumber: 3\n  }, this);\n}\n_s(App, \"bv8zyXgYYLqlcH5BtXkRTepF3PY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useEffect","useState","ref","dbRef","push","onValue","update","remove","storageRef","uploadBytes","getDownloadURL","deleteObject","db","storage","jsxDEV","_jsxDEV","App","_s","imageFile","setImageFile","bought","setBought","given","setGiven","date","setDate","profiles","setProfiles","cigarettes","handleSubmit","e","preventDefault","alert","imgRef","Date","now","name","photoUrl","profileData","createdAt","usageCount","lastUsedAt","imagePath","fullPath","fetchProfiles","profilesRef","snapshot","data","val","result","Object","entries","map","id","p","lastUsed","daysSinceLastUse","show","filter","handleUse","profile","newCount","toISOString","handleBoughtChange","value","target","handleGivenChange","style","padding","maxWidth","margin","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","onChange","files","c","length","border","src","alt","width","maxHeight","objectFit","toLocaleDateString","onClick","_c","$RefreshReg$"],"sources":["/Users/krkessedi/Documents/IT/jti-project/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { ref as dbRef, push, onValue, update, remove } from 'firebase/database'\nimport {\n\tref as storageRef,\n\tuploadBytes,\n\tgetDownloadURL,\n\tdeleteObject,\n} from 'firebase/storage'\nimport { db, storage } from './firebaseConfig'\n\nfunction App() {\n\tconst [imageFile, setImageFile] = useState(null)\n\tconst [bought, setBought] = useState('')\n\tconst [given, setGiven] = useState('')\n\tconst [date, setDate] = useState('')\n\tconst [profiles, setProfiles] = useState([])\n\n\tconst cigarettes = ['Winston Blue', 'LD Compact', 'Kent', 'Parliament']\n\n\tconst handleSubmit = async (e) => {\n\t\te.preventDefault()\n\t\tif (!imageFile || !bought || !given || !date)\n\t\t\treturn alert('Заполните все поля')\n\n\t\tconst imgRef = storageRef(\n\t\t\tstorage,\n\t\t\t`profiles/${Date.now()}_${imageFile.name}`\n\t\t)\n\t\tawait uploadBytes(imgRef, imageFile)\n\t\tconst photoUrl = await getDownloadURL(imgRef)\n\n\t\tconst profileData = {\n\t\t\tphotoUrl,\n\t\t\tbought,\n\t\t\tgiven,\n\t\t\tcreatedAt: date,\n\t\t\tusageCount: 1,\n\t\t\tlastUsedAt: null,\n\t\t\timagePath: imgRef.fullPath,\n\t\t}\n\n\t\tawait push(dbRef(db, 'profiles'), profileData)\n\n\t\tsetImageFile(null)\n\t\tsetBought('')\n\t\tsetGiven('')\n\t\tsetDate('')\n\t\tfetchProfiles()\n\t}\n\n\tconst fetchProfiles = () => {\n\t\tconst now = new Date()\n\n\t\tconst profilesRef = dbRef(db, 'profiles')\n\t\tonValue(profilesRef, (snapshot) => {\n\t\t\tconst data = snapshot.val()\n\t\t\tif (!data) return setProfiles([])\n\n\t\t\tconst result = Object.entries(data).map(([id, p]) => {\n\t\t\t\tconst lastUsed = p.lastUsedAt ? new Date(p.lastUsedAt) : null\n\t\t\t\tconst daysSinceLastUse = lastUsed\n\t\t\t\t\t? (now - lastUsed) / (1000 * 60 * 60 * 24)\n\t\t\t\t\t: null\n\n\t\t\t\treturn {\n\t\t\t\t\tid,\n\t\t\t\t\t...p,\n\t\t\t\t\tshow: p.usageCount < 4 && (!lastUsed || daysSinceLastUse >= 30),\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tsetProfiles(result.filter((p) => p.show))\n\t\t})\n\t}\n\n\tconst handleUse = async (profile) => {\n\t\tconst newCount = (profile.usageCount || 1) + 1\n\n\t\tif (newCount >= 4) {\n\t\t\tawait remove(dbRef(db, `profiles/${profile.id}`))\n\t\t\tif (profile.imagePath) {\n\t\t\t\tawait deleteObject(storageRef(storage, profile.imagePath))\n\t\t\t}\n\t\t} else {\n\t\t\tawait update(dbRef(db, `profiles/${profile.id}`), {\n\t\t\t\tusageCount: newCount,\n\t\t\t\tlastUsedAt: new Date().toISOString(),\n\t\t\t})\n\t\t}\n\n\t\tfetchProfiles()\n\t}\n\n\tuseEffect(() => {\n\t\tfetchProfiles()\n\t}, [])\n\n\tconst handleBoughtChange = (e) => {\n\t\tconst value = e.target.value\n\t\tsetBought(value)\n\t\tsetGiven(value)\n\t}\n\n\tconst handleGivenChange = (e) => {\n\t\tsetGiven(e.target.value)\n\t}\n\n\treturn (\n\t\t<div style={{ padding: '20px', maxWidth: '600px', margin: 'auto' }}>\n\t\t\t<h1>Добавить анкету</h1>\n\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t<input type='file' onChange={(e) => setImageFile(e.target.files[0])} />\n\t\t\t\t<div>\n\t\t\t\t\t<label>Что купил:</label>\n\t\t\t\t\t<select value={bought} onChange={handleBoughtChange}>\n\t\t\t\t\t\t<option value=''>Выбери</option>\n\t\t\t\t\t\t{cigarettes.map((c) => (\n\t\t\t\t\t\t\t<option key={c} value={c}>\n\t\t\t\t\t\t\t\t{c}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>Что выдал:</label>\n\t\t\t\t\t<select value={given} onChange={handleGivenChange}>\n\t\t\t\t\t\t<option value=''>Выбери</option>\n\t\t\t\t\t\t{cigarettes.map((c) => (\n\t\t\t\t\t\t\t<option key={c} value={c}>\n\t\t\t\t\t\t\t\t{c}\n\t\t\t\t\t\t\t</option>\n\t\t\t\t\t\t))}\n\t\t\t\t\t</select>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<label>Дата проведения:</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype='date'\n\t\t\t\t\t\tvalue={date}\n\t\t\t\t\t\tonChange={(e) => setDate(e.target.value)}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<button type='submit'>Сохранить</button>\n\t\t\t</form>\n\n\t\t\t<hr />\n\n\t\t\t<h2>Доступные анкеты</h2>\n\t\t\t{profiles.length > 0 ? (\n\t\t\t\tprofiles.map((p) => (\n\t\t\t\t\t<div\n\t\t\t\t\t\tkey={p.id}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tborder: '1px solid #ccc',\n\t\t\t\t\t\t\tmargin: '10px 0',\n\t\t\t\t\t\t\tpadding: '10px',\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img\n\t\t\t\t\t\t\tsrc={p.photoUrl}\n\t\t\t\t\t\t\talt='Анкета'\n\t\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\t\twidth: '100%',\n\t\t\t\t\t\t\t\tmaxHeight: '300px',\n\t\t\t\t\t\t\t\tobjectFit: 'contain',\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Купил:</strong> {p.bought}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Выдал:</strong> {p.given}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Дата:</strong>{' '}\n\t\t\t\t\t\t\t{new Date(p.createdAt).toLocaleDateString()}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t<strong>Использовано:</strong> {p.usageCount}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t\t<button onClick={() => handleUse(p)}>Использовать</button>\n\t\t\t\t\t</div>\n\t\t\t\t))\n\t\t\t) : (\n\t\t\t\t<p>Нет доступных анкет</p>\n\t\t\t)}\n\t\t</div>\n\t)\n}\n\nexport default App\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}